
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hurdle Spacing Calculator</title>
<style>
  body { font-family: Arial, sans-serif; background: #f7f9fc; margin:0; padding:0; display:flex; flex-direction:column; align-items:center; min-height:100vh;}
  header { background: #4a90e2; color: white; width:100%; padding:1rem; text-align:center; font-size:1.2rem; font-weight:bold; }
  main { flex:1; width:100%; max-width:600px; padding:1rem; }
  .card { background:white; padding:1.5rem; margin-bottom:1rem; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1);}
  label { display:block; margin:0.5rem 0 0.2rem;}
  select, input { width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:6px; margin-bottom:0.5rem;}
  button { background:#4a90e2; color:white; border:none; padding:0.7rem 1.2rem; border-radius:8px; font-size:1rem; cursor:pointer;}
  button:hover { background:#3a78c2;}
  .result { font-size:1.2rem; font-weight:bold; margin-top:1rem; }
  footer { text-align:center; padding:1rem; font-size:0.8rem; color:#666;}
</style>
</head>
<body>
<header>Hurdle Spacing Calculator</header>
<main>
  <div class="card">
    <label for="group">Group:</label>
    <select id="group">
      <option value="men">Men</option>
      <option value="women">Women</option>
    </select>

    <label for="steps">Steps between hurdles (2‚Äì9):</label>
    <input type="number" id="steps" min="2" max="9" value="3">

    <label for="speed">Speed (%):</label>
    <input type="number" id="speed" min="10" max="120" value="100">

    <button onclick="calculate()">Calculate</button>
    <div class="result" id="result"></div>
  </div>
</main>
<footer>Built for hurdle drill planning üèÉ‚Äç‚ôÇÔ∏è</footer>

<script>
// Anchor points: step count at 100% speed
const anchors = {
  men: {
    3: 30,
    4: 30, // at 80%
    5: 41, // at 100%
    7: 55
  },
  women: {
    3: 28,
    4: 28,
    5: 37,
    7: 49
  }
};

// Hurdle step at 100% speed for each group (approx, can tweak)
const hurdleStep100 = { men: 6, women: 5 };

function interpolateStepSpacing(group, steps) {
  const keys = Object.keys(anchors[group]).map(Number).sort((a,b)=>a-b);
  if (anchors[group][steps]) return anchors[group][steps]; // exact anchor
  // find nearest lower and upper anchors
  let lower = keys[0], upper = keys[keys.length-1];
  for (let i=0;i<keys.length;i++){
    if (keys[i]<steps) lower=keys[i];
    if (keys[i]>steps){upper=keys[i]; break;}
  }
  // linear interpolation
  const y0 = anchors[group][lower], y1 = anchors[group][upper];
  const x0 = lower, x1 = upper;
  const spacing = y0 + (y1 - y0) * (steps - x0)/(x1 - x0);
  return spacing;
}

function calculate() {
  const group = document.getElementById('group').value;
  let steps = parseInt(document.getElementById('steps').value);
  steps = Math.max(2, Math.min(9, steps)); // clamp 2-9
  const speedPercent = parseFloat(document.getElementById('speed').value);
  
  // total spacing at 100% speed
  const spacing100 = interpolateStepSpacing(group, steps);
  // scale hurdle step by speed
  const hurdleStep = hurdleStep100[group]*(speedPercent/100);
  // number of steps excluding hurdle step
  const interSteps = steps - 1;
  // compute total spacing proportionally
  const totalSpacing = hurdleStep + interSteps * ((spacing100 - hurdleStep100[group]) * (speedPercent/100) / (steps - 1));
  // compute average inter-step length
  const avgStep = interSteps>0 ? (totalSpacing - hurdleStep)/interSteps : 0;

  const output = `
    Recommended Spacing: ${totalSpacing.toFixed(1)} ft
    Hurdle Step: ${hurdleStep.toFixed(1)} ft
    Average Step Between Hurdles: ${avgStep.toFixed(1)} ft
  `;
  document.getElementById('result').innerText = output;
}
</script>
</body>
</html>
